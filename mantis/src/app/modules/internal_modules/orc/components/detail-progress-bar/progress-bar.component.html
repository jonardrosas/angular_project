
<div class="row row-break">
    <div class="col-md-12">
        <table align="center" class="table-bordered table-sm">
            <tbody>
                <tr>
                    <ng-container *ngTemplateOutlet = "template">
                    </ng-container>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<ng-template #template>
    <ng-container *ngFor="let fields of tableItem">
        <ng-container *ngIf = "fields.truth == true; then Current; else NotCurrent"></ng-container>
        
        <ng-template #Current>
            <td class="current-stage" width="100" align="center" [attr.bgcolor] = "fields.bg_color">
                <b>{{ fields.label }}</b>
            </td>
            <ng-container *ngIf = "fields.label !== 'closed'; then Arrow"></ng-container>
            <ng-template #Arrow>
                &#8658;
            </ng-template>
        </ng-template>
        
        <ng-template #NotCurrent>
            <td width="100" align="center" [attr.bgcolor] = "fields.bg_color">
                {{ fields.label }}
            </td>
            <ng-container *ngIf = "fields.label !== 'closed'; then Arrow"></ng-container>
            <ng-template #Arrow>
                &#8658;
            </ng-template>
        </ng-template>
        
    </ng-container>
</ng-template>

<ng-template #Arrow>
    &#8658;
</ng-template>
