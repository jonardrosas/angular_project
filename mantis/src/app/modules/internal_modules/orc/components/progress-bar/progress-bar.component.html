<div class="row row-break">
    <div class="col-md-12">
        <div>
            <div>
                <table align="center" class="table-bordered table-sm" style="width: 130px">
                    <tbody>
                        <tr>
                            <ng-container *ngTemplateOutlet = "template">
                            </ng-container>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<ng-template #template>
    <ng-container *ngFor="let fields of tableItem">
        <ng-container *ngIf = "fields.truth == true; then Current; else NotCurrent"></ng-container>
        
        <ng-template #Current>
            <td class="current-stage" [attr.bgcolor] = "fields.bg_color">
                <b>{{ fields.label }}</b>
            </td>
            <ng-container *ngIf = "fields.label !== 'closed'; then Arrow"></ng-container>
            <ng-template #Arrow>
                &#8658;
            </ng-template>
        </ng-template>
        
        <ng-template #NotCurrent>
            <td [attr.bgcolor] = "fields.bg_color">
                {{ fields.label }}
            </td>
            <ng-container *ngIf = "fields.label !== 'closed'; then Arrow"></ng-container>
            <ng-template #Arrow>
                &#8658;
            </ng-template>
        </ng-template>
        
    </ng-container>
</ng-template>

<ng-template #Arrow>
    &#8658;
</ng-template>