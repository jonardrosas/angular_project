<div class="container-fluid p-4 check-detail" *ngIf="checkIns">
    <div class="row" *ngIf="enableActionButtons">
         <button class="ml-2 shadow-sm btn-info" (click)="button.function(agGrid, dispoManagerInstance)" *ngFor="let button of buttons" ><i *ngIf="button.icon" [ngClass]="button.icon"></i>  {{ button.label }}</button>        
    </div>     
    <div class="row row-break bg-light shadow p-2">
        <div class="col-md-12">
           <button type="button" class="btn btn-toggle" (click)="data.img.panelIsOpen= !data.img.panelIsOpen"
                [attr.aria-expanded]="!data.img.panelIsOpen" aria-controls="ruleImage">
                <i [ngClass]="isCollapse(data.img.panelIsOpen)"></i>  Rule Image
            </button> 
            <hr/>
        </div>
        <div class="col-md-12" [ngbCollapse]="data.img.panelIsOpen">
          <app-check-image-list-view [checkIns]="checkIns" (refresh)="getObject()"></app-check-image-list-view>
        </div>
    </div>       
    <div class="row row-break bg-light shadow p-2 text-dark">
        <div class="col-md-12">
           <button type="button" class="btn btn-toggle" (click)="data.info.panelIsOpen= !data.info.panelIsOpen"
                [attr.aria-expanded]="!data.info.panelIsOpen" aria-controls="ruleImage">
                <i [ngClass]="isCollapse(data.info.panelIsOpen)"></i>  Rule Info
            </button> 
            <hr/>
        </div>
        <div class="col-md-12" [ngbCollapse]="data.info.panelIsOpen">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-3" *ngFor="let column of columnDefs">
                        <b>{{ column.headerName }} </b>:  {{ checkIns[column.field] }} 
                    </div>
                </div>
            </div>
       </div>
    </div>
    <div class="row row-break bg-light shadow p-2 text-dark">
        <div class="col-md-12">
           <button type="button" class="btn btn-toggle" (click)="data.reviews.panelIsOpen= !data.reviews.panelIsOpen"
                [attr.aria-expanded]="!data.reviews.panelIsOpen" aria-controls="ruleImage">
                <i [ngClass]="isCollapse(data.reviews.panelIsOpen)"></i>  Rule Reviews
            </button>             
            <hr/>
        </div>
        <div class="col-md-12" [ngbCollapse]="data.reviews.panelIsOpen">
            <div class="container-fluid">
                <div class="row bg-light text-dark">
                    <div class="bg-secondary text-light overflow-hidden col-md-{{ field.col }} border border-secondary" *ngFor="let field of checkReviewColumn">
                        <b>{{ field.headerName }} </b>
                    </div>
                </div>
                <div class="row bg-light text-dark" *ngFor="let review of checkIns.reviews">
                    <div class="overflow-hidden col-md-{{ field.col }} border border-secondary" *ngFor="let field of checkReviewColumn">
                        {{ getValue(field, review[field.field]) }}
                    </div>                      
                </div>
            </div>
        </div>
    </div>    
    <div class="row row-break bg-light shadow p-2 text-dark">
        <div class="col-md-12">
            <button type="button" class="btn btn-toggle" (click)="data.assessment.panelIsOpen= !data.assessment.panelIsOpen"
                [attr.aria-expanded]="!data.assessment.panelIsOpen" aria-controls="ruleImage">
                <i [ngClass]="isCollapse(data.assessment.panelIsOpen)"></i>  Rule Recommendation
            </button>              
            <hr/>
        </div>
        <div class="col-md-12" [ngbCollapse]="data.assessment.panelIsOpen">
            <div class="container-fluid" *ngIf="checkIns.checkassessments && checkIns.checkassessments.length > 0">
                <div class="row bg-secondary text-light">
                    <div class="overflow-hidden col-md-{{ field.col }} border border-secondary" *ngFor="let field of checkAssessmentColumn">
                        <b>{{ field.headerName }} </b>
                    </div>
                </div>
                <div class="row bg-light text-dark" *ngFor="let review of checkIns.checkassessments">
                    <div class="overflow-hidden col-md-{{ field.col }} border border-secondary" *ngFor="let field of checkAssessmentColumn">
                        {{ getValue(field, review[field.field]) }}
                    </div>                      
                </div>
            </div>
            <div class="container-fluid" *ngIf="!checkIns.checkassessments || checkIns.checkassessments.length == 0">
                    No available assessment
            </div>
        </div>
    </div>      
    
</div>